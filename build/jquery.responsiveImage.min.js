/*! jquery-responsive-image - v1.2.0 - 2015-12-09
* Copyright (c) 2015 Jan Rembold <janrembold@gmail.com>; License: MIT */

!function(a,b,c,d){"use strict";function e(b,c){this.$element=a(b),this.options=a.extend({},g,c),this.sources=[],this.dpr=this.getDpr(),this.attributeCount=this.options.attributes.length,this.init()}var f="responsiveImage",g={source:"> span",container:null,minWidthDefault:0,maxWidthDefault:Number.MAX_VALUE,minDprDefault:1,attributes:["title","alt","class","width","height"],resizeEvent:"resize",onGetWidth:null};a.extend(e.prototype,{init:function(){if(this.sources=this.loadSources(),0!==this.sources.length){var a=this.$element.attr("data-container")||this.options.container;a&&(this.$container=this.$element.parents(a)),this.loadResponsiveImage(),this.initResizeEvent()}},loadSources:function(){var b=this,c=[];return this.$element.find(this.options.source).each(function(){var d=a(this);if(d.data("src")){for(var e={src:d.data("src"),minWidth:d.data("min-width")||b.options.minWidthDefault,maxWidth:d.data("max-width")||b.options.maxWidthDefault,minDpr:d.data("min-dpr")||b.options.minDprDefault},f=0;f<b.attributeCount;f++){var g=b.options.attributes[f];e[g]=d.data(g)||b.$element.data(g)}c.push(e)}}),c.sort(function(a,b){return b.minWidth===a.minWidth?b.maxWidth===a.maxWidth?b.minDpr-a.minDpr:b.maxWidth-a.maxWidth:b.minWidth-a.minWidth}),c},loadResponsiveImage:function(){for(var a,b=this.getWidth(),c=this.sources.length,d=0;c>d;d++)if(this.sources[d].minWidth<=b&&this.sources[d].maxWidth>b&&this.sources[d].minDpr<=this.dpr){a=this.sources[d];break}a!==this.$currentSource&&(this.$currentSource=a,this.$element.html(this.createImageWithAttributes(a)),this.$element.trigger("new.source."+f))},getWidth:function(){return a.isFunction(this.options.onGetWidth)?this.options.onGetWidth.call(this):this.$container?this.$container.width():b.innerWidth||c.documentElement.clientWidth||c.body.clientWidth},getDpr:function(){return b.screen.systemXDPI!==d&&b.screen.logicalXDPI!==d&&b.screen.systemXDPI>b.screen.logicalXDPI?b.screen.systemXDPI/b.screen.logicalXDPI:b.devicePixelRatio!==d?b.devicePixelRatio:1},createImageWithAttributes:function(a){var b=c.createElement("img");b.setAttribute("src",a.src);for(var d=0;d<this.attributeCount;d++){var e=this.options.attributes[d];"undefined"!=typeof a[e]&&""!==a[e]&&b.setAttribute(e,a[e])}return b},initResizeEvent:function(){a(b).on(this.options.resizeEvent,a.proxy(this.loadResponsiveImage,this))}}),a.fn[f]=function(c){return this.each(function(){a.data(this,"plugin_"+f)||(a.data(this,"plugin_"+f,new e(this,c)),a(this).trigger("ready."+f)),a(b).trigger("all.ready."+f)})}}(jQuery,window,document);
//# sourceMappingURL=jquery.responsiveImage.map